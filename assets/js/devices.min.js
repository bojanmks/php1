var currentPage=1;$(document).ready(function(){function a(){$("#priceRange").html(`< ${$("#rnPrice").val()}â‚¬`)}function e(a=!1){a&&(currentPage=1);let c={search:t("#tbSearch"),order:t("#ddlOrder"),os:t(".chbOS"),brand:t(".chbBrand"),priceRange:t("#rnPrice"),page:currentPage};ajaxCallback("assets/php/device-filtering.php","get",function(a){$("#devicesContainer").html(a.response),$(".btnAddToCart").click(function(){!function(a){let e=loadLocalStorage("cart");var t,c=parseInt($(a).data("id")),i=!1;for(let a in e)if(c==e[a].id){t=a,i=!0;break}i?e[t].quantity<10?(e[t].quantity++,updateLocalStorage(e,"cart"),r(),printCartNumber()):n($("<div class='addToCartModal'><div class='addToCartModalContent cannotAdd'><p class='font-small'>You can't have more than 10 of the same device in your cart.</p></div></div>")):ajaxCallback("assets/php/add-to-cart.php","get",function(a){e.push({id:a.id,name:a.name,price:a.price,quantity:1}),updateLocalStorage(e,"cart"),r(),printCartNumber()},{deviceId:c})}(this)}),function(){$(".btnPage").removeClass("disabled").eq(currentPage-1).addClass("activePage"),1==currentPage&&$(".prevPage").addClass("disabled");currentPage==$(".btnPage").length&&$(".nextPage").addClass("disabled");$("#paging a").click(function(a){a.preventDefault(),$(this).hasClass("disabled")||($(this).hasClass("prevPage")||$(this).hasClass("nextPage")?($(this).hasClass("prevPage")?currentPage>1&&currentPage--:currentPage<$(".btnPage").length&&currentPage++,$(".btnPage").removeClass("activePage").eq(currentPage-1).addClass("activePage")):($(".btnPage").removeClass("activePage"),$(this).addClass("activePage"),currentPage=$(this).data("page")),e())})}()},c)}function t(a){if(a.startsWith("#"))return $(a).val();if(a.startsWith(".")){let e=[];for(let t of $(a))t.checked&&e.push(t.value);return e}}function n(a){$("body").append(a),a.hide(),a.fadeIn("fast"),setTimeout(function(){a.fadeOut("fast",function(){a.remove()})},2e3)}function r(){n($('<div class="addToCartModal"><div class="addToCartModalContent"><p class="font-small">Item has been succesfully added to your cart.</p></div></div>'))}a(),$("#rnPrice").on("input",a),e(),$("#tbSearch").keyup(function(){e(!0)}),$(".filterAction").change(function(){e(!0)})});