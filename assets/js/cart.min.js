$(document).ready(function(){function t(){let t=loadLocalStorage("cart");$("#cartList tbody").html("");for(let r in t){var a=t[r];$("#cartList tbody").append(`<tr data-id="${a.id}" class="cartItem"><td class="colDeviceName">${a.name}</td><td class="colPrice">${a.price}€</td><td class="colQuantity"><button class="btnPrimary btnQuantity btnDecrease"><span>-</span></button><span class="quantity">${a.quantity}</span><button class="btnPrimary btnQuantity btnIncrease"><span>+</span></button></td><td class="colRemove"><button class="btnRemove"><i class="fas fa-minus"></i></button></td></tr>`)}}function a(t){let a=loadLocalStorage("cart");a.splice(t,1),updateLocalStorage(a,"cart")}var r;function e(){let t=loadLocalStorage("cart");r=0;for(let a in t)r+=t[a].price*t[a].quantity;$("#totalPrice").html(`Total Price: <span class="bold">${r}€</span>`).attr("data-price",r)}t(),$(".btnQuantity").click(function(){let t=loadLocalStorage("cart");var a,r=parseInt($(this).parents("tr").data("id"));for(let e in t)if(r==t[e].id){a=e;break}$(this).hasClass("btnIncrease")?t[a].quantity<10&&(t[a].quantity++,updateLocalStorage(t,"cart")):t[a].quantity>1&&(t[a].quantity--,updateLocalStorage(t,"cart")),$(this).siblings(".quantity").html(t[a].quantity),printCartNumber(),e()}),$(".btnRemove").click(function(){let t=loadLocalStorage("cart");var r=parseInt($(this).parents("tr").data("id"));for(let e in t)if(t[e].id==r){a(e);break}printCartNumber(),e(),$(this).parents("tr").remove()}),e();var n=/^[A-ZŠĐČĆŽ][a-zšđčćž]{2,}(\s[A-ZŠĐČĆŽ][a-zšđčćž]{2,})+$/,c=$("#tbName");function o(){checkRegExp(c,n)}c.blur(o);var i=/^[a-z][a-z0-9-_\.]{2,}@([a-z0-9-_]{2,}\.)+[a-z]{2,}$/,s=$("#tbEmail");function l(){checkRegExp(s,i)}s.blur(l);var d=/^[A-ZŠĐČĆŽ][a-zšđčćž]{2,}(\s[A-ZŠĐČĆŽa-zšđčćž][a-zšđčćž]{2,})*\s\d+[A-Z]?(\/\d+)*$/,u=$("#tbAddress");function p(){checkRegExp(u,d)}u.blur(p);var b=[o,l,p];$("#btnCheckout").click(function(){0!=$(".cartItem").length?(submitForm(b),noErrors&&ajaxCallback("assets/php/forms/checkout-form-validation.php","post",function(a){openModal(a.response),updateLocalStorage([],"cart"),t(),e(),printCartNumber(),clearForm($("#checkout form"))},{name:$("#tbName").val(),email:$("#tbEmail").val(),address:$("#tbAddress").val(),totalPrice:$("#totalPrice").data("price"),details:loadLocalStorage("cart")})):openModal("Your cart is empty!")})});