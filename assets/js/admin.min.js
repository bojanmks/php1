function openAreYouSureModal(a){$html="<div class='areYouSure'><span class='font-small'>Are you sure?</span><span class='areYouSureButtons'><button class='btnYes btnPrimary'>Yes</button><button class='btnNo btnPrimary'>No</button></span></div>",openModal($html),$(".btnNo").click(closeModal),$(".btnYes").click(a)}function adminModal(a){$("body").append(`<div class="adminModal"><div class="cover"><div class="adminModalContent">${a}<button class="font-medium btnCloseAdminModal"><i class="fas fa-times"></i></button></div></div></div>`),$(".adminModal, .adminModalContent").hide(),$(".adminModal .cover, .btnCloseAdminModal").mousedown(closeAdminModal),$(".adminModalContent").mousedown(function(a){a.stopPropagation()}),$(".adminModal").fadeIn("fast",function(){$(".adminModalContent").fadeIn("fast")})}function closeAdminModal(){$(".adminModalContent").fadeOut("fast",function(){$(".adminModal").fadeOut("fast",function(){$(".adminModal").remove()})})}$(document).ready(function(){function a(e){ajaxCallback(`assets/php/admin/${e}`,"get",function(e){$("#adminMain .container").html(e.response),function(){$(".btnAdminAdd").click(function(){let e=$(this).data("form");ajaxCallback(`assets/php/admin/adding/forms/${e}`,"get",function(t){adminModal(t.response),function(e){if("add-user-form.php"==e){var t=/^[a-zA-Z]\w{4,}$/,d=$("#tbAddUserUsername");function i(){checkRegExp(d,t)}d.blur(i);var n=/^[a-z][a-z0-9-_\.]{2,}@([a-z0-9-_]{2,}\.)+[a-z]{2,}$/,r=$("#tbAddUserEmail");function s(){checkRegExp(r,n)}r.blur(s);var o=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,c=$("#tbAddUserPassword");function l(){checkRegExp(c,o)}c.blur(l);var p=[s,l,i];$("#btnAddUser").click(function(e){let t=$(".adminSection").data("print");submitForm(p),noErrors&&ajaxCallback("assets/php/admin/adding/add-user.php","post",function(){closeAdminModal(),a(t)},{username:$("#tbAddUserUsername").val(),email:$("#tbAddUserEmail").val(),password:$("#tbAddUserPassword").val(),role:$("#ddlRole").val()}),e.preventDefault()})}else if("add-device-form.php"==e){var m=/^[A-Za-z0-9\/\-\s]+$/,u=$("#tbAddDeviceName");function b(){checkRegExp(u,m)}u.blur(b);var v=/^[\w\-]+(\.jpg|\.jpeg|\.png|\.gif)$/,f=$("#tbAddDeviceImage");function h(){checkRegExp(f,v)}f.blur(h);var E=/^[0-9]+$/,A=$("#tbAddDevicePrice");function g(){checkRegExp(A,E)}A.blur(g);var k=[b,h,g];$("#btnAddDevice").click(function(e){let t=$(".adminSection").data("print");submitForm(k),noErrors&&ajaxCallback("assets/php/admin/adding/add-device.php","post",function(){closeAdminModal(),a(t)},{name:$("#tbAddDeviceName").val().trim(),image:$("#tbAddDeviceImage").val(),os:$("#ddlOS").val(),brand:$("#ddlBrand").val(),price:$("#tbAddDevicePrice").val()}),e.preventDefault()})}else if("add-brand-form.php"==e){var x=/^[A-Za-z\s]+$/,M=$("#tbAddBrandName");function C(){checkRegExp(M,x)}M.blur(C);var D=[C];$("#btnAddBrand").click(function(e){let t=$(".adminSection").data("print");submitForm(D),noErrors&&ajaxCallback("assets/php/admin/adding/add-brand.php","post",function(){closeAdminModal(),a(t)},{name:$("#tbAddBrandName").val().trim()}),e.preventDefault()})}else if("add-os-form.php"==e){var z=/^[A-Za-z\s]+$/,S=$("#tbAddOSName");function R(){checkRegExp(S,z)}S.blur(R);var N=[R];$("#btnAddOS").click(function(e){let t=$(".adminSection").data("print");submitForm(N),noErrors&&ajaxCallback("assets/php/admin/adding/add-os.php","post",function(){closeAdminModal(),a(t)},{name:$("#tbAddOSName").val().trim()}),e.preventDefault()})}}(e)})}),$(".btnEdit").click(function(){let e=$(this).parents(".adminSection").data("editform"),t=$(this).parents("tr").data("id");ajaxCallback(`assets/php/admin/editing/forms/${e}`,"post",function(d){adminModal(d.response),function(e,t){if("edit-user-form.php"==e){ajaxCallback("assets/php/get-user-by-id.php","post",function(a){$("#ddlEditRole").val(a.role),$("#ddlEditActive").val(a.active)},{id:t});var d=/^[a-zA-Z]\w{4,}$/,i=$("#tbEditUserUsername");function n(){checkRegExp(i,d)}i.blur(n);var r=/^[a-z][a-z0-9-_\.]{2,}@([a-z0-9-_]{2,}\.)+[a-z]{2,}$/,s=$("#tbEditUserEmail");function o(){checkRegExp(s,r)}s.blur(o),$("#chbChangePassword").change(function(){$(this).is(":checked")?($("#tbEditUserPassword").attr("disabled",!1),checkRegExp(l,c)):($("#tbEditUserPassword").attr("disabled",!0),fieldNeutral($("#tbEditUserPassword")))});var c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,l=$("#tbEditUserPassword");function p(){$("#chbChangePassword").is(":checked")&&checkRegExp(l,c)}l.blur(p);var m=[o,p,n];$("#btnEditUser").click(function(e){let d=$(".adminSection").data("print");submitForm(m),noErrors&&ajaxCallback("assets/php/admin/editing/edit-user.php","post",function(){closeAdminModal(),a(d)},{id:t,username:$("#tbEditUserUsername").val(),email:$("#tbEditUserEmail").val(),password:$("#tbEditUserPassword").val(),changePassword:Number($("#chbChangePassword").is(":checked")),role:$("#ddlEditRole").val(),active:$("#ddlEditActive").val()}),e.preventDefault()})}else if("edit-device-form.php"==e){ajaxCallback("assets/php/get-device-by-id.php","post",function(a){$("#ddlEditOS").val(a.os),$("#ddlEditBrand").val(a.brand),$("#ddlEditDeviceActive").val(a.active)},{id:t});var u=/^[A-Za-z0-9\/\-\s]+$/,b=$("#tbEditDeviceName");function v(){checkRegExp(b,u)}b.blur(v);var f=/^[\w\-]+(\.jpg|\.jpeg|\.png|\.gif)$/,h=$("#tbEditDeviceImage");function E(){checkRegExp(h,f)}h.blur(E);var A=/^[0-9]+$/,g=$("#tbEditDevicePrice");function k(){checkRegExp(g,A)}g.blur(k);var x=[v,E,k];$("#btnEditDevice").click(function(e){let d=$(".adminSection").data("print");submitForm(x),noErrors&&ajaxCallback("assets/php/admin/editing/edit-device.php","post",function(){closeAdminModal(),a(d)},{id:t,name:$("#tbEditDeviceName").val().trim(),image:$("#tbEditDeviceImage").val(),os:$("#ddlEditOS").val(),brand:$("#ddlEditBrand").val(),price:$("#tbEditDevicePrice").val(),active:$("#ddlEditDeviceActive").val()}),e.preventDefault()})}else if("edit-brand-form.php"==e){var M=/^[A-Za-z\s]+$/,C=$("#tbEditBrandName");function D(){checkRegExp(C,M)}C.blur(D);var z=[D];$("#btnEditBrand").click(function(e){let d=$(".adminSection").data("print");submitForm(z),noErrors&&ajaxCallback("assets/php/admin/editing/edit-brand.php","post",function(){closeAdminModal(),a(d)},{id:t,name:$("#tbEditBrandName").val().trim()}),e.preventDefault()})}else if("edit-os-form.php"==e){var S=/^[A-Za-z\s]+$/,R=$("#tbEditOSName");function N(){checkRegExp(R,S)}R.blur(N);var U=[N];$("#btnEditOS").click(function(e){let d=$(".adminSection").data("print");submitForm(U),noErrors&&ajaxCallback("assets/php/admin/editing/edit-os.php","post",function(){closeAdminModal(),a(d)},{id:t,name:$("#tbEditOSName").val().trim()}),e.preventDefault()})}else if("edit-order-form.php"==e){var j=/^[A-ZŠĐČĆŽ][a-zšđčćž]{2,}(\s[A-ZŠĐČĆŽ][a-zšđčćž]{2,})*$/,w=$("#tbEditOrderBuyerName");function O(){checkRegExp(w,j)}w.blur(O);var P=/^[a-z][a-z0-9\-_\.]{2,}@([a-z0-9\-_]{2,}\.)+[a-z]{2,}$/,y=$("#tbEditOrderBuyerEmail");function B(){checkRegExp(y,P)}y.blur(B);var Z=/^[A-ZŠĐČĆŽ][a-zšđčćž]{2,}(\s[A-ZŠĐČĆŽa-zšđčćž][a-zšđčćž]{2,})*\s\d+[A-Z]?(\/\d+)*$/,F=$("#tbEditOrderBuyerAddress");function Y(){checkRegExp(F,Z)}F.blur(Y);var I=[O,B,Y];$("#btnEditOrder").click(function(e){let d=$(".adminSection").data("print");submitForm(I),noErrors&&ajaxCallback("assets/php/admin/editing/edit-order.php","post",function(){closeAdminModal(),a(d)},{id:t,buyerName:$("#tbEditOrderBuyerName").val(),buyerEmail:$("#tbEditOrderBuyerEmail").val(),buyerAddress:$("#tbEditOrderBuyerAddress").val()}),e.preventDefault()})}}(e,t)},{id:t})}),$(".btnDelete").click(function(){let e;e=$(this).hasClass("btnDeleteMessage")?$(this).parents(".messageContainer").data("id"):$(this).parents("tr").data("id");let t=$(this).parents(".adminSection").data("delete"),d=$(this).parents(".adminSection").data("print");openAreYouSureModal(function(){ajaxCallback(`assets/php/admin/deleting/${t}`,"post",function(){closeModal(),a(d)},{id:e})})})}()})}a("print-users.php"),$("#sideNavContent a").click(function(e){e.preventDefault(),closeSideNav(),a($(this).attr("href"))})});